<mvc:View
  controllerName="inch_dp_consulta-facturas-compras.controller.Home"
  displayBlock="true"
  xmlns:uxap="sap.uxap"
  xmlns:layout="sap.ui.layout" 
  xmlns="sap.m"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"
	xmlns:smartTable="sap.ui.comp.smarttable"
	xmlns:html="http://www.w3.org/1999/xhtml"
	xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
	xmlns:t="sap.ui.table">
  <App id="idAppControl" >
    <pages>
      <Page title="{i18n>title}">

      <uxap:ObjectPageLayout id="ObjectPageLayout" showTitleInHeaderContent="true" upperCaseAnchorBar="false">
	<uxap:headerTitle>
	<uxap:ObjectPageDynamicHeaderTitle>
			<uxap:expandedHeading>
				<Title id="tNamefb" wrapping="true"/>
			</uxap:expandedHeading>

			<uxap:snappedHeading>
				<FlexBox fitContainer="true" alignItems="Center">
					<Avatar src="sap-icon://business-card" backgroundColor="Random" class="sapUiTinyMarginEnd"/>
					<Title id="tName" wrapping="true" />
				</FlexBox>
			</uxap:snappedHeading>

			<uxap:actions>
				<Button id="btEditarCabecera" text="Editar" press="onEditarCabecera"/>
			</uxap:actions>

		</uxap:ObjectPageDynamicHeaderTitle>
		
	</uxap:headerTitle>

	<uxap:headerContent>
				<FlexBox wrap="Wrap">
					<Avatar src="sap-icon://business-card" backgroundColor="Random" displaySize="L" class="sapUiTinyMarginEnd"/>

					<layout:VerticalLayout class="sapUiSmallMarginBeginEnd">
						<ObjectStatus title="PaÃ­s" text="{marcaPais>/Land1} - {marcaPais>/Landx}"/>
						<ObjectStatus title="Marca" text="{marcaPais>/Kondm} - {marcaPais>/VtextKondm}"/>
					</layout:VerticalLayout>

				</FlexBox>
			</uxap:headerContent>

			<uxap:sections>
			<uxap:ObjectPageSection>
				<uxap:subSections>
					<uxap:ObjectPageSubSection title="Reporte" titleUppercase="false">
						<uxap:blocks>

              <VBox id="vbox" fitContainer="true">
                <smartFilterBar:SmartFilterBar id="sfconsultaFacturas" showFilterConfiguration="false"  entitySet="CONSULTA_FACTURASSet" persistencyKey="pksfconsultaFacturas" >
				<smartFilterBar:controlConfiguration>
					<smartFilterBar:ControlConfiguration key="Npf" visibleInAdvancedArea="true">
					</smartFilterBar:ControlConfiguration>
					<smartFilterBar:ControlConfiguration key="FechaDocumento" visibleInAdvancedArea="true" mandatory="true">
					</smartFilterBar:ControlConfiguration>
					<smartFilterBar:ControlConfiguration key="DescClaseDocumento" visibleInAdvancedArea="true">
					</smartFilterBar:ControlConfiguration>
					<smartFilterBar:ControlConfiguration key="PedidoCliente" visibleInAdvancedArea="true">
					</smartFilterBar:ControlConfiguration>
					<smartFilterBar:ControlConfiguration key="NumeroFactura" visibleInAdvancedArea="true">
					</smartFilterBar:ControlConfiguration>
				</smartFilterBar:controlConfiguration>	
				</smartFilterBar:SmartFilterBar>
                <smartTable:SmartTable id="stconsultaFacturas" beforeRebindTable="onbrtconsultaFacturas" initiallyVisibleFields="PedidoCliente,FechaDocumento,ClaseDocumento,DescClaseDocumento,MotivoPedido,DescMotivoPedido,PosicionPedido,Material,DescMaterial,Npf,Um,CantidadDocumento,ImporteNeto,Moneda,NumeroFactura,FechaFactura,PosFactura,Cantidad,Importe,FechaVencimiento" requestAtLeastFields="LinkPdf" entitySet="CONSULTA_FACTURASSet" smartFilterId="sfconsultaFacturas" tableType="Table" useExportToExcel="true" beforeExport="onBeforeExport" useVariantManagement="true" useTablePersonalisation="true" showRowCount="true" persistencyKey="pkstconsultaFacturas" enableAutoBinding="false" class="sapUiResponsiveContentPadding" enableAutoColumnWidth="true" editTogglable="false" app:useSmartToggle="true">
                  <smartTable:layoutData>
                    <FlexItemData growFactor="1" baseSize="0%"/>
                  </smartTable:layoutData>
				  <smartTable:customToolbar>
					<OverflowToolbar design="Transparent">
						<ToolbarSpacer/>
						<OverflowToolbarButton  id="btnPdfFactura" icon="sap-icon://pdf-reader" tooltip="Ver Factura" text="Ver Factura"
							press="onVerFactura"/>
					</OverflowToolbar>
				</smartTable:customToolbar>
				  	<t:Table selectionMode="Single">
					</t:Table>
                </smartTable:SmartTable>
              </VBox>

          	</uxap:blocks>
          </uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
		</uxap:sections>

	</uxap:ObjectPageLayout>

      </Page>
    </pages>
  </App>
</mvc:View>